[gd_scene load_steps=27 format=2]

[ext_resource path="res://prefabs/maps/surface.tscn" type="PackedScene" id=1]
[ext_resource path="res://prefabs/player/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://resources/world_surface.tres" type="Environment" id=3]
[ext_resource path="res://prefabs/environment/pine_tree_single.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/3d/map/mesh/apartment_tall.mesh" type="ArrayMesh" id=5]
[ext_resource path="res://assets/3d/map/mesh/apartment_wide.mesh" type="ArrayMesh" id=6]
[ext_resource path="res://resources/materials/far_apartment_tall.tres" type="Material" id=7]
[ext_resource path="res://resources/materials/far_apartment_wide.tres" type="Material" id=8]
[ext_resource path="res://prefabs/objects/door.tscn" type="PackedScene" id=9]
[ext_resource path="res://prefabs/miscellaneous/light_warning.tscn" type="PackedScene" id=10]
[ext_resource path="res://prefabs/miscellaneous/light_wall.tscn" type="PackedScene" id=11]
[ext_resource path="res://prefabs/maps/map.gd" type="Script" id=12]
[ext_resource path="res://prefabs/environment/picnic_table.tscn" type="PackedScene" id=13]
[ext_resource path="res://prefabs/miscellaneous/area_no_return.tscn" type="PackedScene" id=14]
[ext_resource path="res://assets/3d/map/texture/plaster_grey_04_diff_1k.jpg" type="Texture" id=15]
[ext_resource path="res://assets/3d/map/texture/plaster_grey_04_rough_1k.jpg" type="Texture" id=16]
[ext_resource path="res://resources/materials/ground_mud.tres" type="Material" id=17]

[sub_resource type="CubeMesh" id=3]
size = Vector3( 25, 90, 30 )

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.333333, 0.333333, 0.333333, 1 )
roughness = 0.24

[sub_resource type="CubeMesh" id=5]
size = Vector3( 25, 120, 40 )

[sub_resource type="QuadMesh" id=6]
size = Vector2( 200, 20 )

[sub_resource type="QuadMesh" id=7]

[sub_resource type="SpatialMaterial" id=10]
albedo_texture = ExtResource( 15 )
roughness_texture = ExtResource( 16 )
uv1_scale = Vector3( 8, 8, 8 )
uv1_triplanar = true

[sub_resource type="QuadMesh" id=8]
size = Vector2( 100, 16 )

[sub_resource type="SpatialMaterial" id=9]
albedo_color = Color( 0.109804, 0.109804, 0.109804, 1 )

[sub_resource type="QuadMesh" id=11]

[node name="TestSurface" type="Spatial"]
script = ExtResource( 12 )
ambience_id = "ambience_siren"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 3 )

[node name="surface" parent="." instance=ExtResource( 1 )]
transform = Transform( 1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0 )

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.70341, 0 )

[node name="Lightings" type="Spatial" parent="."]

[node name="DirectionalLight" type="DirectionalLight" parent="Lightings"]
transform = Transform( -0.785954, -0.110572, 0.608317, 0, 0.983879, 0.178837, -0.618285, 0.140557, -0.773284, 0, 22.5272, 0 )
light_color = Color( 0.847059, 0.988235, 1, 1 )
light_energy = 0.5
light_indirect_energy = 5.0
shadow_enabled = true
directional_shadow_mode = 0
directional_shadow_depth_range = 1

[node name="LightWarning" parent="Lightings" instance=ExtResource( 10 )]
transform = Transform( -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -9.15448, 5.10959, -1.70849 )

[node name="LightWall" parent="Lightings" instance=ExtResource( 11 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 12.1108, 4.59768, 5.34367 )

[node name="LightWall4" parent="Lightings" instance=ExtResource( 11 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 15.4203, 4.59768, 15.9188 )

[node name="LightWall2" parent="Lightings" instance=ExtResource( 11 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 4.66995, 4.59768, 5.34367 )

[node name="LightWall3" parent="Lightings" instance=ExtResource( 11 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -3.18797, 4.59768, 5.34367 )

[node name="Trees" type="Spatial" parent="."]

[node name="PineTreeSingle" parent="Trees" instance=ExtResource( 4 )]
transform = Transform( 0.783693, 0, 0.621148, 0, 1, 0, -0.621148, 0, 0.783693, -8.01477, 0.463705, -9.92863 )

[node name="PineTreeSingle4" parent="Trees" instance=ExtResource( 4 )]
transform = Transform( 0.0592541, 0, 0.998243, 0, 1, 0, -0.998243, 0, 0.0592541, 28.7693, 0.463705, -9.92863 )

[node name="PineTreeSingle2" parent="Trees" instance=ExtResource( 4 )]
transform = Transform( 0.482487, 0, -0.539955, 0, 0.724117, 0, 0.539955, 0, 0.482487, 9.85714, 0.463705, -18.4933 )

[node name="PineTreeSingle3" parent="Trees" instance=ExtResource( 4 )]
transform = Transform( -1.02381, -6.04605e-05, -0.143746, -5.19083e-05, 1.03385, -6.508e-05, 0.143746, -5.72224e-05, -1.02381, -3.03447, 0.463705, -19.8126 )

[node name="Buildings" type="Spatial" parent="."]

[node name="apartment_tall" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -60.8298, 0, 6.60458 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 7 )

[node name="apartment_tall2" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -60.8298, 0, 50.676 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 7 )

[node name="apartment_tall5" type="MeshInstance" parent="Buildings"]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 42.4829, 0, 50.676 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 7 )

[node name="apartment_tall3" type="MeshInstance" parent="Buildings"]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -24.6001, 0, -46.1756 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 7 )

[node name="apartment_tall4" type="MeshInstance" parent="Buildings"]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 10.0204, 0, -66.4864 )
mesh = ExtResource( 5 )
material/0 = ExtResource( 7 )

[node name="apartment_wide" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 60.2247, 0, -5.91219 )
mesh = ExtResource( 6 )
material/0 = ExtResource( 8 )

[node name="apartment_wide3" type="MeshInstance" parent="Buildings"]
transform = Transform( -4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.21271, 0, 47.4471 )
mesh = ExtResource( 6 )
material/0 = ExtResource( 8 )

[node name="apartment_wide2" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 60.2247, 0, -68.3444 )
mesh = ExtResource( 6 )
material/0 = ExtResource( 8 )

[node name="skyscraper" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -97.8048, 44.8452, -56.2017 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="skyscraper6" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -115.95, 44.8452, -127.993 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="skyscraper2" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 87.7966, 44.8452, 88.3907 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="skyscraper3" type="MeshInstance" parent="Buildings"]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 35.1952, 57.7828, 112.851 )
mesh = SubResource( 5 )
material/0 = SubResource( 4 )

[node name="skyscraper4" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 126.109, 44.8452, -113.669 )
mesh = SubResource( 3 )
material/0 = SubResource( 4 )

[node name="skyscraper5" type="MeshInstance" parent="Buildings"]
transform = Transform( -2.98023e-08, 0, 1, 0, 1, 0, -1, 0, -2.98023e-08, 68.3244, 45.5776, -138.908 )
mesh = SubResource( 5 )
material/0 = SubResource( 4 )

[node name="BuildingBlock" type="MeshInstance" parent="Buildings"]
transform = Transform( 1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 89.719, -5.70863, 56.85 )
mesh = SubResource( 6 )
material/0 = SubResource( 4 )

[node name="BuildingBlock2" type="MeshInstance" parent="Buildings"]
transform = Transform( 1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, -6.35282, -0.372567, -113.525 )
visible = false
mesh = SubResource( 6 )
material/0 = SubResource( 4 )

[node name="BuildingBlock3" type="MeshInstance" parent="Buildings"]
transform = Transform( -2.18557e-07, 0, 1, 0, 1, 0, -1, 0, -2.18557e-07, -92.6538, -0.372567, -11.5755 )
visible = false
mesh = SubResource( 6 )
material/0 = SubResource( 4 )

[node name="BuildingBlock4" type="MeshInstance" parent="Buildings"]
transform = Transform( -1, 0, -2.62268e-07, 0, 1, 0, 2.62268e-07, 0, -1, -6.01913, -0.372567, 81.1762 )
mesh = SubResource( 6 )
material/0 = SubResource( 4 )

[node name="Props" type="Spatial" parent="."]

[node name="Door" parent="Props" instance=ExtResource( 9 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -9.07873, 1.08552, -1.73449 )

[node name="PicnicTable" parent="Props" instance=ExtResource( 13 )]
transform = Transform( 0.819152, 0, -0.573576, 0, 1, 0, 0.573576, 0, 0.819152, 0, 0, -10.2323 )

[node name="PicnicTable2" parent="Props" instance=ExtResource( 13 )]
transform = Transform( 0.766044, 0, 0.642788, 0, 1, 0, -0.642788, 0, 0.766044, 8.84273, 0, -10.2323 )

[node name="AreaNoReturn" parent="." instance=ExtResource( 14 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000518799, -14.2808, -0.00212097 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 317.948, 0, 0, 0, -1.38979e-05, 317.948, 0, -317.948, -1.38979e-05, 0, -0.201366, 0 )
mesh = SubResource( 7 )
material/0 = SubResource( 10 )

[node name="Road" type="Spatial" parent="."]

[node name="road" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, -32.142 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road4" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -104.048, 0, -32.142 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road10" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -104.048, 0, -16.2127 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road9" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -104.048, 0, -96.0982 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road6" type="MeshInstance" parent="Road"]
transform = Transform( -4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, 44.1567, 0, -100.906 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road7" type="MeshInstance" parent="Road"]
transform = Transform( -4.37114e-08, 1, 4.37114e-08, 0, -4.37114e-08, 1, 1, 4.37114e-08, 1.91069e-15, 44.1567, 0, -1.6438 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road2" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 32.2326 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road8" type="MeshInstance" parent="Road"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 102.427, 0, 32.2326 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road3" type="MeshInstance" parent="Road"]
transform = Transform( -4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, -46.2116, 0, 2.13111 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="road5" type="MeshInstance" parent="Road"]
transform = Transform( -4.37114e-08, -1, -4.37114e-08, 0, -4.37114e-08, 1, -1, 4.37114e-08, 1.91069e-15, -46.2116, 0, -98.3275 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="MeshInstance2" type="MeshInstance" parent="."]
transform = Transform( 42.6502, 0, 0, 0, -1.8643e-06, 42.6502, 0, -21.0118, -9.18454e-07, 13.8938, 0, -51.4409 )
mesh = SubResource( 11 )
material/0 = ExtResource( 17 )
